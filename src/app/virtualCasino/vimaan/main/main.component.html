<!-- mt-[50px]   lg:mt-[38px]  -->
<section class="vimaan-layout px-[5px] lg:px-[0px]">
  <div class="lg:flex font-['Inter']">
    <div class="lg:h-[calc(100vh-48px)] lg:mx-[10px] lg:w-[calc(100%-430px)] md:w-full lg:order-2">
      <div
        class="h-[42px] relative w-full font-['Inter',sans-serif] flex justify-center items-center  max-small:w-[310px]  py-3 s540:pl-0 s540:pr-0.5 m820:pr-1 m820:pl-[3px] ">
        <div
          class="flex  justify-center items-center w-full  flex-wrap max-h-[22px] gap-[7px] overflow-hidden max-xm:gap-1.5 max-sm:gap-[6.5px]  ">
          @for (result of results; track $index) {
          <div
            [ngClass]="result.winner>0 && result.winner<2?'blue':result.winner>=2 && result.winner<=10?'purple':'pink'"
            class=" cursor-pointer font-semibold   text-[12px] py-0.5 px-1.5  bg-[#00000080] border-0 rounded-[11px] box-border">
            {{result.winner}}x
          </div>
          }
        </div>
        <div class="text-end ">
          <button (click)="toggleBetHistoryModal()"
            class=" items-center relative z-[1100] bg-[#1B1C1D] border border-solid border-[#414148] w-[46px] h-[22px] rounded-[13px] translate-y-0.5 -translate-x-[1px]  max-sm:-translate-x-[5px]">
            <div [ngClass]="[betHistoryModalState ? 'active_button' : '']"
              class="image_red flex justify-center items-center h-[22px] gap-[5px]  -translate-y-[1px]  ">
              <img class="w-[14px] h-[13px] -translate-y-[0.25px]  -translate-x-[0.25px]"
                src="/assets/icons/history-grey.42156111146ca273.svg" alt="history">
              <img [ngClass]="betHistoryModalState ? 'rotate-180 duration-300' : 'duration-300' "
                src="/assets/icons/arrow-down.svg" alt="open">
            </div>
          </button>
        </div>
        <!-- Bet History Modal start  -->
        @if (betHistoryModalState) {
        <app-bet-history></app-bet-history>
        }
        <!-- Bet History Modal Ends here  -->

      </div>
      <app-vimaan-game (notifyParent)="handleNotification($event)"></app-vimaan-game>

      <!-- New Bet Container -->

      <div class="w-full btn-container lg:mt-2.5 mbl_hide lg:!gap-[5px] " *ngIf="!isMobile">
        <div class="double-bet w-full">
          <div class="controls">
            @if(!flexRow){
            <div class="sec-hand-btn add btn btn-success " (click)="flexState()"></div>
            }
            <div class="navigation">
              <div class="navigation-switcher">
                <div class="slider" [ngClass]="{ 'slider-active ': this.activetab[1]?true:false }">
                </div>
                <button class="tab font-light" [disabled]="autoCashOut[1].active"
                  [ngClass]="{ active: !this.activetab[1] }" style="width: 100px" (click)="tab('bet',1)">
                  Bet</button>
                <button class="tab font-light" [disabled]="autoCashOut[1].active"
                  [ngClass]="{ active: this.activetab[1] }" style="width: 100px" (click)="tab('auto',1)">
                  Auto
                </button>
              </div>
            </div>
            <div class="first-row auto-game-feature">
              <div class="bet-block w-full">
                <!-- ghgg -->
                <div class="bets-opt-list grid grid-cols-4 gap-4 w-full">
                  <ng-container *ngFor="let stake of betStakes;trackBy: trackByFn;index as i ">
                    <button *ngIf="editable==false" [ngClass]="selectedStake===stake.stakeAmount?'selectedBtn':''"
                      class="btn btn-secondary btn-sm bet-opt col-span-1 "
                      (click)="selectedStake=stake.stakeAmount?stake.stakeAmount:undefined">
                      <span> {{stake.stakeAmount}} </span>
                    </button>
                    <input *ngIf="editable==true" class="btn btn-secondary btn-sm bet-opt col-span-1 betbtnInput"
                      type="number" [attr.min]="10" [attr.max]="10000" (change)="validateStakeAmount(i)"
                      oninput="validity.valid||(value='');" [disabled]="!editable" (click)="stakeIndex=i"
                      [(ngModel)]="stake.stakeAmount">
                  </ng-container>

                  <button class="btn btn-secondary btn-sm bet-opt col-span-1 "
                    [ngClass]="selectedStake==='10.00'?'selectedBtn':''"
                    (click)="selectedStake='10.00';selectedStake2='10.00'">
                    Min
                  </button>
                  <button class="btn btn-secondary btn-sm bet-opt col-span-1 "
                    [ngClass]="selectedStake==='10000.00'?'selectedBtn':''"
                    (click)="selectedStake='10000.00';selectedStake2='10000.00'">
                    Max
                  </button>
                  <button class="btn btn-secondary btn-sm bet-opt col-span-1 cashoutbtn"
                    (click)="editable=!editable;this.selectedStake=null">
                    <span>
                      {{editable?'Save':'Edit'}}
                    </span>

                  </button>
                  <button class="btn btn-secondary btn-sm bet-opt col-span-1 !bg-[red] !text-white"
                    (click)="clearStakeValue()">
                    Clear
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- bet buttons -->
      <div class="bg-[#1b1c1d] mt-[5px] mbl_hide border-0 rounded-[10px] p-2" *ngIf="!isMobile">
        <div class="bet-block w-full">
          <!-- ghgg -->
          <div class="bets-opt-list !mt-0 grid grid-cols-4 gap-4 w-full">

            <button class="btn btn-secondary btn-sm bet-opt col-span-1 betbtn" (click)="activeBet(1);playButtonSound()"
              [ngClass]="this.betObj[1] || (this.cashoutObj[1] && currentState=='WAIT')?'cancelBet':this.cashoutObj[1] && currentState=='RUN'?'cashoutbtn h-30':''">
              <span *ngIf="!this.cashoutObj[1]">
                {{this.betObj[1]?'Cancel':'Cash In'}}
              </span>
              <span *ngIf="this.cashoutObj[1] && currentState=='WAIT'">
                Cancel
              </span>
              <span *ngIf="this.cashoutObj[1] && currentState=='RUN'">
                {{ (this.cashoutObj[1].stake *
                multiplier).toFixed(2) }}
              </span>

            </button>

            <button class="btn btn-secondary btn-sm bet-opt col-span-1 betbtn" (click)="activeBet(2);playButtonSound()"
              [ngClass]="this.betObj[2] || (this.cashoutObj[2] && currentState=='WAIT')?'cancelBet':this.cashoutObj[2] && currentState=='RUN'?'cashoutbtn h-30':''">
              <span *ngIf="!this.cashoutObj[2]">
                {{this.betObj[2]?'Cancel':'Cash In'}}
              </span>-
              <span *ngIf="this.cashoutObj[2] && currentState=='WAIT'">
                Cancel
              </span>
              <span *ngIf="this.cashoutObj[2] && currentState=='RUN'">
                {{ (this.cashoutObj[2].stake *
                multiplier).toFixed(2) }}
              </span>

            </button>
            <button class="btn btn-secondary btn-sm bet-opt col-span-1 betbtn" (click)="activeBet(3);playButtonSound()"
              [ngClass]="this.betObj[3] || (this.cashoutObj[3] && currentState=='WAIT')?'cancelBet':this.cashoutObj[3] && currentState=='RUN'?'cashoutbtn h-30':''">
              <span *ngIf="!this.cashoutObj[3]">
                {{this.betObj[3]?'Cancel':'Cash In'}}
              </span>
              <span *ngIf="this.cashoutObj[3] && currentState=='WAIT'">
                Cancel
              </span>
              <span *ngIf="this.cashoutObj[3] && currentState=='RUN'">
                {{ (this.cashoutObj[3].stake *
                multiplier).toFixed(2) }}
              </span>

            </button>
            <button class="btn btn-secondary btn-sm bet-opt col-span-1 betbtn" (click)="activeBet(4);playButtonSound()"
              [ngClass]="this.betObj[4] || (this.cashoutObj[4] && currentState=='WAIT')?'cancelBet':this.cashoutObj[4] && currentState=='RUN'?'cashoutbtn h-40':''">
              <span *ngIf="!this.cashoutObj[4]">
                {{this.betObj[4]?'Cancel':'Cash In'}}
              </span>
              <span *ngIf="this.cashoutObj[4] && currentState=='WAIT'">
                Cancel
              </span>
              <span *ngIf="this.cashoutObj[4] && currentState=='RUN'">
                {{ (this.cashoutObj[4].stake *
                multiplier).toFixed(2) }}
              </span>

            </button>



          </div>
          <!-- *ngIf="this.activetab[1]" -->
          <div class="bets-opt-list !mt-[5px] grid grid-cols-4 gap-4 w-full" *ngIf="this.activetab[1]">
            <div class="cashout-block col-span-1 ">
              <div class="cash-out-switcher">
                <label class=" font-light displayinDesktop hidden"> Auto Cash Out </label>
                <div>
                  <label class="relative inline-flex items-center cursor-pointer  translate-y-[3px] translate-x-0.5 ">
                    <input type="checkbox" [disabled]="this.betObj[1] || autoCashOut[1].betplaced"
                      [(ngModel)]="autoCashOut[1].active" [checked]="autoCashOut[1].active" value=""
                      class="sr-only peer" (change)="toggleAutoCashOut($event)">
                    <div
                      class="w-[36px]  h-[18px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#60ae05] peer-checked:after:translate-x-[16px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#f1f1f1] after:border-[#a3b98a] after:border-[2px] after:rounded-full after:h-[14px] after:w-[14px] after:transition-all peer-checked:bg-[#229607]">
                    </div>
                  </label>
                </div>
              </div>
              <div class="cashout-spinner-wrapper">
                <div class="cashout-spinner disabled">
                  <div class="spinner small">
                    <div class="buttons"></div>
                    <div class="input full-width autobetValue">
                      <input inputmode="decimal" class="font-weight-bold form-control" (blur)="autobetBlur(1)"
                        [disabled]=" this.betObj[1]  || autoCashOut[1].betplaced" [(ngModel)]="autoCashOut[1].value"
                        type="text" />

                    </div>
                    <span class="text text-x  opacity-80">×</span>
                    <div class="buttons"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="cashout-block col-span-1 ">
              <div class="cash-out-switcher">
                <label class=" font-light displayinDesktop hidden"> Auto Cash Out </label>
                <div>
                  <label class="relative inline-flex items-center cursor-pointer  translate-y-[3px] translate-x-0.5 ">
                    <input type="checkbox" [disabled]="this.betObj[2] || autoCashOut[2].betplaced"
                      [(ngModel)]="autoCashOut[2].active" [checked]="autoCashOut[2].active" value=""
                      class="sr-only peer" (change)="toggleAutoCashOut($event)">
                    <div
                      class="w-[36px]  h-[18px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#60ae05] peer-checked:after:translate-x-[16px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#f1f1f1] after:border-[#a3b98a] after:border-[2px] after:rounded-full after:h-[14px] after:w-[14px] after:transition-all peer-checked:bg-[#229607]">
                    </div>
                  </label>
                </div>
              </div>
              <div class="cashout-spinner-wrapper">
                <div class="cashout-spinner disabled">
                  <div class="spinner small">
                    <div class="buttons"></div>
                    <div class="input full-width autobetValue">
                      <input inputmode="decimal" class="font-weight-bold form-control" (blur)="autobetBlur(2)"
                        [disabled]=" this.betObj[2]  || autoCashOut[2].betplaced" [(ngModel)]="autoCashOut[2].value"
                        type="text" />

                    </div>
                    <span class="text text-x  opacity-80">×</span>
                    <div class="buttons"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="cashout-block col-span-1 ">
              <div class="cash-out-switcher">
                <label class=" font-light displayinDesktop hidden"> Auto Cash Out </label>
                <div>
                  <label class="relative inline-flex items-center cursor-pointer  translate-y-[3px] translate-x-0.5 ">
                    <input type="checkbox" [disabled]="this.betObj[3] || autoCashOut[3].betplaced"
                      [(ngModel)]="autoCashOut[3].active" [checked]="autoCashOut[3].active" value=""
                      class="sr-only peer" (change)="toggleAutoCashOut($event)">
                    <div
                      class="w-[36px]  h-[18px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#60ae05] peer-checked:after:translate-x-[16px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#f1f1f1] after:border-[#a3b98a] after:border-[2px] after:rounded-full after:h-[14px] after:w-[14px] after:transition-all peer-checked:bg-[#229607]">
                    </div>
                  </label>
                </div>
              </div>
              <div class="cashout-spinner-wrapper">
                <div class="cashout-spinner disabled">
                  <div class="spinner small">
                    <div class="buttons"></div>
                    <div class="input full-width autobetValue">
                      <input inputmode="decimal" class="font-weight-bold form-control" (blur)="autobetBlur(3)"
                        [disabled]=" this.betObj[3]  || autoCashOut[3].betplaced" [(ngModel)]="autoCashOut[3].value"
                        type="text" />

                    </div>
                    <span class="text text-x  opacity-80">×</span>
                    <div class="buttons"></div>
                  </div>
                </div>
              </div>
            </div>
            <div class="cashout-block col-span-1 ">
              <div class="cash-out-switcher">
                <label class=" font-light displayinDesktop hidden"> Auto Cash Out </label>
                <div>
                  <label class="relative inline-flex items-center cursor-pointer  translate-y-[3px] translate-x-0.5 ">
                    <input type="checkbox" [disabled]="this.betObj[4] || autoCashOut[4].betplaced"
                      [(ngModel)]="autoCashOut[4].active" [checked]="autoCashOut[4].active" value=""
                      class="sr-only peer" (change)="toggleAutoCashOut($event)">
                    <div
                      class="w-[36px]  h-[18px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#60ae05] peer-checked:after:translate-x-[16px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#f1f1f1] after:border-[#a3b98a] after:border-[2px] after:rounded-full after:h-[14px] after:w-[14px] after:transition-all peer-checked:bg-[#229607]">
                    </div>
                  </label>
                </div>
              </div>
              <div class="cashout-spinner-wrapper">
                <div class="cashout-spinner disabled">
                  <div class="spinner small">
                    <div class="buttons"></div>
                    <div class="input full-width autobetValue">
                      <input inputmode="decimal" class="font-weight-bold form-control" (blur)="autobetBlur(4)"
                        [disabled]=" this.betObj[4]  || autoCashOut[4].betplaced" [(ngModel)]="autoCashOut[4].value"
                        type="text" />

                    </div>
                    <span class="text text-x  opacity-80">×</span>
                    <div class="buttons"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- Sidebar starts here -->
    <!-- lg:mt-[48px] -->
    <div id="marketScroll" *ngIf="isMobile">
      <div class="w-full btn-container lg:mt-2.5 dsk_hide lg:!gap-[5px] ">
        <div class="double-bet-mob w-full">
          <div class="controls-mob col-span-2  ">
            <div class="w-full">
              <div class="flex justify-center items-center gap-6 w-full ">
                <div class="flex items-center gap-[8px]">
                  <div class="mb-[1px] text-[14px] text-[#ffffff] leading-[16.94px] font-[600]">Auto
                  </div>
                </div>
                <div>
                  <label class="relative inline-flex items-center cursor-pointer translate-y-[3px]">
                    <input type="checkbox" [disabled]="autoCashOut[1].active" value="" class="sr-only peer"
                      [(checked)]="this.activetab[1]" (change)="toggleAutoPlay($event,1)">
                    <div
                      class="w-[44px]  h-[19px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#008826] peer-checked:after:translate-x-[23px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#FFFFFF] after:border-[#FFFFFF] after:border-[2px] after:rounded-full after:h-[15px] after:w-[15px] after:transition-all peer-checked:bg-[#008826]">
                    </div>
                  </label>
                </div>
              </div>
            </div>


            <div class="first-row auto-game-feature">
              <div class="bet-block w-full">
                <!-- ghgg -->
                <div class="bets-opt-list grid grid-cols-2 gap-4 w-full">
                  <ng-container *ngFor="let stake of betStakes;trackBy: trackByFn;index as i ">
                    <button *ngIf="editable==false" [ngClass]="selectedStake===stake.stakeAmount ?'selectedBtn':''"
                      class="btn btn-secondary btn-sm bet-opt !border !border-solid !border-[#d9d9d9] col-span-1 "
                      (click)="selectedStake=stake.stakeAmount?stake.stakeAmount:undefined">
                      <span> {{stake.stakeAmount}} </span>
                    </button>
                    <input *ngIf="editable==true" class="btn btn-secondary btn-sm bet-opt col-span-1 betbtnInput"
                      [attr.min]="10" [attr.max]="10000" (change)="validateStakeAmount(i)" type="number"
                      oninput="validity.valid||(value='');" [disabled]="!editable" (click)="stakeIndex=i"
                      [(ngModel)]="stake.stakeAmount">
                  </ng-container>
                  <button
                    class="btn btn-secondary btn-sm bet-opt    col-span-1 betbtn-mob w-[80px] xm:w-[111px] ml-0 s412:ml-3 mt-1.5"
                    (click)="activeBet(1);playButtonSound()"
                    [ngClass]="this.betObj[1] || (this.cashoutObj[1] && currentState=='WAIT')?'cancelBet-mob':this.cashoutObj[1] && currentState=='RUN'?'cashoutbtn-mob ':''">
                    <span *ngIf="!this.cashoutObj[1]">
                      {{this.betObj[1]?'Cancel':'Cash In'}}
                    </span>
                    <span *ngIf="this.cashoutObj[1] && currentState=='WAIT'">
                      Cancel
                    </span>
                    <span *ngIf="this.cashoutObj[1] && currentState=='RUN'">
                      {{ (this.cashoutObj[1].stake *
                      multiplier).toFixed(2) }}
                    </span>

                  </button>
                  @if (this.activetab[1]) {
                  <div class="cashout-block col-span-2  max-w-[111px] translate-x-1 translate-y-1 ">
                    <div class="cash-out-switcher">
                      <label class=" font-light displayinDesktop hidden"> Auto Cash Out </label>
                      <div>
                        <label
                          class="relative inline-flex items-center cursor-pointer  translate-y-[3px] translate-x-0.5 ">
                          <input type="checkbox" [disabled]="this.betObj[1] || autoCashOut[1].betplaced"
                            [(ngModel)]="autoCashOut[1].active" [checked]="autoCashOut[1].active" value=""
                            class="sr-only peer" (change)="toggleAutoCashOut($event)">
                          <div
                            class="w-[44px]  h-[19px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#008826] peer-checked:after:translate-x-[23px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#FFFFFF] after:border-[#FFFFFF] after:border-[2px] after:rounded-full after:h-[15px] after:w-[15px] after:transition-all peer-checked:bg-[#008826]">
                          </div>
                        </label>
                      </div>
                    </div>
                    <div class="cashout-spinner-wrapper">
                      <div class="cashout-spinner disabled">
                        <div class="spinner small">
                          <div class="buttons"></div>
                          <div class="input full-width autobetValue">
                            <input inputmode="decimal" class="font-weight-bold form-control" (blur)="autobetBlur(1)"
                              [disabled]=" this.betObj[1]  || autoCashOut[1].betplaced"
                              [(ngModel)]="autoCashOut[1].value" type="text" />

                          </div>
                          <span class="text text-x  opacity-80">×</span>
                          <div class="buttons"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  }


                </div>
              </div>
            </div>
          </div>
          <div [ngClass]="[this.activetab[1] || this.activetab[2]? 'mt-[5px]':'mt-8']"
            class="flex flex-col justify-center items-center gap-2.5 col-span-1 ">
            <button class="btn btn-secondary btn-sm bet-opt max-xxm:!w-[50px]  edit_btn "
              (click)="editable=!editable;this.selectedStake=null">
              <span>
                {{editable?'Save':'Edit'}}
              </span>

            </button>
            <button class="btn btn-secondary max-xxm:!w-[50px] btn-sm clear_btn" (click)="clearStakeValue()">
              Clear
            </button>
            <button
              class="btn btn-secondary w-[64px] h-[28px] btn-sm text-[#878787] max-xxm:!w-[50px] bet-opt !border !border-solid !border-[#d9d9d9]  rounded-[10px] bg-[#141516] border_white"
              [ngClass]="selectedStake==='10.00'?'selectedBtn':''"
              (click)="selectedStake='10.00';selectedStake2='10.00'">
              Min
            </button>
            <button
              class="btn btn-secondary xm:w-[83px]  h-[31px] w-[56px] text-[#878787] btn-sm bet-opt !border !border-solid !border-[#d9d9d9] rounded-[10px]  bg-[#141516]   border_white"
              [ngClass]="selectedStake==='10000.00'?'selectedBtn':''"
              (click)="selectedStake='10000.00';selectedStake2='10000.00'">
              Max
            </button>

          </div>
          <div class="controls col-span-2  ">
            <div class="w-full">
              <div class="flex justify-center items-center gap-6 w-full ">
                <div class="flex items-center gap-[8px]">
                  <div class="mb-[1px] text-[14px] text-[#ffffff] leading-[16.94px] font-[600]">Auto
                  </div>
                </div>
                <div>
                  <label class="relative inline-flex items-center cursor-pointer translate-y-[3px]">
                    <input type="checkbox" [disabled]="autoCashOut[2].active" value="" class="sr-only peer"
                      [(checked)]="this.activetab[2]" (change)="toggleAutoPlay($event,2)">
                    <div
                      class="w-[44px]  h-[19px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#E50539] peer-checked:after:translate-x-[23px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#FFFFFF] after:border-[#FFFFFF] after:border-[2px] after:rounded-full after:h-[15px] after:w-[15px] after:transition-all peer-checked:bg-[#E50539]">
                    </div>
                  </label>
                </div>
              </div>
            </div>


            <div class="first-row auto-game-feature">
              <div class="bet-block w-full">
                <!-- ghgg -->
                <div class="bets-opt-list grid grid-cols-2 gap-4 w-full">
                  <ng-container *ngFor="let stake of betStakes;trackBy: trackByFn;index as i ">
                    <button *ngIf="editable==false" [ngClass]="selectedStake2===stake.stakeAmount?'selectedBtn':''"
                      class="btn btn-secondary btn-sm bet-opt col-span-1  !border !border-solid !border-[#d9d9d9]"
                      (click)="selectedStake2=stake.stakeAmount?stake.stakeAmount:undefined">
                      <span> {{stake.stakeAmount}}</span>
                    </button>
                    <input *ngIf="editable==true" class="btn btn-secondary btn-sm bet-opt col-span-1 betbtnInput"
                      [attr.min]="10" [attr.max]="10000" (change)="validateStakeAmount(i)" type="number"
                      oninput="validity.valid||(value='');" [disabled]="!editable" (click)="stakeIndex=i"
                      [(ngModel)]="stake.stakeAmount">
                  </ng-container>
                  <button
                    class="btn btn-secondary btn-sm bet-opt col-span-1 !border-0 betbtn-mob  w-[80px] xm:w-[111px] ml-1.5 s375:ml-3 mt-1.5 "
                    (click)="activeBet(2);playButtonSound()"
                    [ngClass]="this.betObj[2] || (this.cashoutObj[2] && currentState=='WAIT')?'cancelBet-mob  ':this.cashoutObj[2] && currentState=='RUN'?'cashoutbtn-mob ':''">
                    <span *ngIf="!this.cashoutObj[2]">
                      {{this.betObj[2]?'Cancel':'Cash In'}}
                    </span>
                    <span *ngIf="this.cashoutObj[2] && currentState=='WAIT'">
                      Cancel
                    </span>
                    <span *ngIf="this.cashoutObj[2] && currentState=='RUN'">
                      {{ (this.cashoutObj[2].stake *
                      multiplier).toFixed(2) }}
                    </span>

                  </button>
                  @if (this.activetab[2]) {
                  <div class="cashout-block col-span-2  max-w-[111px] translate-y-1 translate-x-1">
                    <div class="cash-out-switcher">
                      <label class=" font-light displayinDesktop hidden"> Auto Cash Out </label>
                      <div>
                        <label
                          class="relative inline-flex items-center cursor-pointer  translate-y-[3px] translate-x-0.5 ">
                          <input type="checkbox" [disabled]="this.betObj[2] || autoCashOut[2].betplaced"
                            [(ngModel)]="autoCashOut[2].active" [checked]="autoCashOut[2].active" value=""
                            class="sr-only peer" (change)="toggleAutoCashOut($event)">
                          <div
                            class="w-[44px]  h-[19px] bg-[1b1c1d] rounded-full border border-white border-opacity-50 peer-checked:border-[#E50539] peer-checked:after:translate-x-[23px] rtl:peer-checked:after:-translate-x-full after:content-[''] after:absolute after:top-0.5 after:start-[3px] after:bg-[#FFFFFF] after:border-[#FFFFFF] after:border-[2px] after:rounded-full after:h-[15px] after:w-[15px] after:transition-all peer-checked:bg-[#E50539]">
                          </div>
                        </label>
                      </div>
                    </div>
                    <div class="cashout-spinner-wrapper">
                      <div class="cashout-spinner disabled">
                        <div class="spinner small">
                          <div class="buttons"></div>
                          <div class="input full-width autobetValue">
                            <input inputmode="decimal" class="font-weight-bold form-control" (blur)="autobetBlur(2)"
                              [disabled]=" this.betObj[2]  || autoCashOut[2].betplaced"
                              [(ngModel)]="autoCashOut[2].value" type="text" />

                          </div>
                          <span class="text text-x  opacity-80">×</span>
                          <div class="buttons"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  }
                </div>

              </div>
            </div>
          </div>


        </div>
      </div>
      <!-- bet buttons -->


      <!-- AlL bets part -->

      <div
        class="w-full lg:w-[310px] allbets  min-[1280px]:w-[400px]  lg:h-[calc(100vh-7px)] lg:ms-[10px]  bg-[#1b1c1d] lg:mt-[10px] mt-[20px]  lg:pr-[0px] rounded-[10px] order-1">
        <div class="flex flex-col justify-between h-full ">
          <div>
            <div class="mb-[5px] mt-[5px]">
              <div class="bg-[#141516] w-[200px] mx-auto h-[24px] flex items-center rounded-[10px] relative ">
                <div class="flex items-center">
                  <!-- Use Angular template reference variable #bggray -->
                  <div #bggray class="w-[100px] h-[22px] rounded-[10px] absolute all-bet"
                    [style.transform]="bggrayTransform"></div>
                  <div>
                    <button (click)="selectTab('allBets')"
                      [ngClass]="{'text-[#ffffff]': selectedTab === 'allBets', 'text-[#9ea0a3]': selectedTab !== 'allBets'}"
                      class="w-[100px] h-[18px] text-[12px] relative font-extralight tracking-[0.011em] -translate-y-0.5 lg:hover:text-[#d0021b]">
                      All Bets
                    </button>
                  </div>
                  <div>
                    <button (click)="selectTab('myBets')"
                      [ngClass]="{'text-[#ffffff]': selectedTab === 'myBets', 'text-[#9ea0a3]': selectedTab !== 'myBets'}"
                      class="w-[100px] h-[18px] font-light -translate-y-0.5 text-[12px] tracking-[0.011em] relative lg:hover:text-[#d0021b]">
                      My Bets
                    </button>
                  </div>
                  <!-- <div>
                                    <button (click)="selectTab('top')"
                                        [ngClass]="{'text-[#ffffff]': selectedTab === 'top', 'text-[#9ea0a3]': selectedTab !== 'top'}"
                                        class="w-[100px] h-[18px] text-[12px] -translate-y-0.5 font-light tracking-[0.011em] relative lg:hover:text-[#d0021b]">
                                        Top
                                    </button>
                                </div> -->
                </div>


              </div>
            </div>
            @if (selectedTab === 'allBets') {
            <div class="flex items-center justify-between pb-[4px] px-2.5  -translate-y-[1.5px]">
              <div class="">
                <div class="leading-[16.8px] translate-y-[0.5px]">
                  <span class="text-[#ffffff] text-[14px] tracking-[0.02em] font-light  leading-[16.8px]">ALL
                    BETS</span>
                </div>
                <div class="leading-[16.8px]">
                  <span
                    class="text-[#ffffff] font-extralight text-[14px]">{{this.AllBets?.length?this.AllBets?.length:'0'}}</span>
                </div>
              </div>
              <div class="">
                <div class="leading-[16.8px] translate-y-[0.5px]">
                  <span class="text-[#ffffff] text-[14px] tracking-[0.02em] font-light  leading-[16.8px]">Users</span>
                </div>
                <div class="leading-[16.8px] text-end">
                  <span class="text-[#ffffff] font-extralight text-[14px]">{{userCount}}</span>
                </div>
              </div>
              <!-- <div (click)="togglePreviousHand()"
                            [ngClass]="[previousHandState ? 'border-solid  border-[#e90000] bg-[#600]' : 'border-[#414148] bg-[#252528] [&_img]:hover:[filter:_brightness(0)_saturate(100%)_invert(15%)_sepia(84%)_saturate(6744%)_hue-rotate(341deg)_brightness(89%)_contrast(103%)]']"
                            class="gap-[5px] border max-small:translate-y-[1.5px] cursor-pointer translate-y-[1.5px]    w-[115.32px]  md:translate-y-[1px] rounded-[17px]  h-[20px] flex justify-between items-center pe-[8px] ps-[3px] lg:mb-0 mb-[1px]">
                            <div> @if( previousHandState){
                                <img src="/assets/icons/close.9967d3df9ff555ef.svg" alt=""
                                    class="w-3 h-3 translate-x-[5px]">
                                } @else {
                                <img src="/assets/icons/history.a8377d083674a681.svg" alt="" class="w-[17px] h-[16px] ">
                                }
                            </div>
                            <div class="mb-[0px] -translate-y-[2.5px] ">
                                <span class="text-[12px] text-[#9ea0a3] tracking-[0.005em]  font-light ">Previous
                                    hand</span>
                            </div>
                        </div> -->

            </div>
            <div class="h-[2px] bg-[#141516]"></div>
            }
            @if (selectedTab === 'allBets' || selectedTab === 'myBets') {
            <div class="flex mx-[10px] h-[20px] items-center font-light">
              <div class="w-[19%] -translate-y-[2px]">
                <span class="text-[11px]  text-[#7B7B7B]">User</span>
              </div>
              <div
                class="flex gap-[10px] lg:w-[36.8%] w-[36%] justify-end translate-x-[0.5px]  max-xxm:translate-x-1 xm:translate-x-[3.5px] s390:translate-x-[3.5px] xl:translate-x-0">
                <span class="text-[11px] text-[#7B7B7B] "> Bet</span>
                <span class="text-[11px] text-[#7B7B7B]">X</span>
              </div>
              <div class="flex-1 text-end -translate-y-0.5">
                <span class="text-[11px] text-[#7B7B7B]"> Cash out </span>
              </div>
            </div>
            }

            <ul
              [ngClass]="{'lg:max-h-[79svh]  max-h-[394px] ' : selectedTab ==='allBets','lg:max-h-[84.3svh]  max-h-[394px] ': selectedTab==='myBets' }"
              class="flex px-1 lg:px-0 lg:pl-1 overflow-auto flex-col w-full">
              @if(selectedTab === 'allBets'){
              @for (item of first50bets; track $index) {
              <!-- active bets starts here -->
              <li [ngClass]="[item.nation=='CASHOUT' ? 'bet_item_celebrated':'']"
                class="grid grid-cols-5 w-full bg-[#101112] min-h-[34px] justify-center items-center mt-0.5 border border-solid border-[#101112] rounded-lg text-[#bbbfc5] pl-[2.5px] ">
                <div class=" col-span-2 flex gap-2  items-center   ">
                  <div class="w-[30px] h-[30px] rounded-[50%]">
                    <img [src]="'/assets/avatar-images/av-'+item?.imageNumber+'.png'" [alt]="item.userName">
                  </div>
                  <div>
                    <span class="text-[13px] text-[#9ea0a3] font-light">{{item.userName}}</span>
                  </div>
                </div>
                <div class="text-[14px] text-[#bbbfc5] col-span-2 -translate-x-1.5 lg:translate-x-0 ">
                  {{item.stake}}
                  <span [ngStyle]="{'color': item.oddsRate}" *ngIf="item.nation=='CASHOUT'"
                    class=" cursor-pointer font-semibold   text-[12px] py-0.5 px-1.5  bg-[#00000080] border-0 rounded-[11px] box-border">
                    {{item.oddsRate}}x
                  </span>
                </div>
                <div *ngIf="item.nation=='CASHOUT'"
                  class="text-[14px] text-white font-light text-end mr-2  col-span-1 lg:-translate-x-1.5 ">
                  {{item.cashOut | number:'1.2-2'}}
                </div>
              </li>
              }
              } @else if (selectedTab === 'myBets') {
              <!-- My bets starts here -->
              @for (item of mybets; track $index) {
              <li [ngClass]="[item.nation=='CASHOUT' ? 'bet_item_celebrated':'!text-[#bbbfc5] ']"
                class="grid grid-cols-5 w-full bg-[#101112] font-['Inter'] min-h-[34px] justify-center items-center mt-0.5 border border-solid border-[#101112] rounded-lg  px-2">
                <div
                  class=" col-span-2 !text-[#bbbfc5] flex flex-col  items-start pl-0.5  text-[12px] font-light   leading-none">
                  <h3>
                    {{item.createdAt | date:'H:mm'}}
                  </h3>
                  <!-- <h3>
                                  {{item.stake}}
                                </h3> -->
                </div>
                <div class="text-[14px]  col-span-2 ">
                  {{item.stake}}
                  <span [ngStyle]="{'color': item.cashOutAtMultiplier}"
                    class=" cursor-pointer font-semibold   text-[12px] py-0.5 px-1.5  bg-[#00000080] border-0 rounded-[11px] box-border">
                    {{item.cashOutAtMultiplier}}x
                  </span>
                </div>
                <div class="text-[14px]  col-span-1  flex flex-row justify-center items-center gap-2">
                  <a class="w-[30%] font-light -translate-x-4" [ngClass]="[!item.cashout ? 'opacity-0' : '']">
                    {{item.cashout | number:'1.2-2'}}
                  </a>
                  <div class="flex justify-center items-center gap-1 w-[70%]">
                    <a class="cursor-pointer">
                      <img (click)="openProvablyFairDetailsModal()" class="w-3.5 h-4 "
                        src="/assets/icons/icon-provabyfair.71eb97eaadfab595.svg" alt="provabyfair">
                    </a>
                    <a class="cursor-pointer"> <img class="w-4 h-3.5 " src="/assets/icons/share.658297c40a9fcd66.svg"
                        alt="copy"></a>
                  </div>

                </div>
              </li>
              }

              }

            </ul>
          </div>


          <!-- footer -->
          <div class="bg-[#000] border border-[#2a2b2e] flex justify-between items-center px-[10px] h-[25px]">
            <div class="flex items-center">
              <div class="-translate-y-0.5">
                <span class="text-[#5e6269] font-light text-[11px]">This game is </span>
              </div>
              <div class="ms-[6px] me-[4px]">
                <img src="/assets/icon-provabyfair.652dcfd9d89241e2.svg" alt="" class="w-[14px] h-[16]">
              </div>
              <div class="lg:mb-[2px] mb-[0px] -translate-y-0.5 lg:-translate-y-[0.5px]">
                <span class="text-[#bbbfc5] tracking-[0.015em] font-light text-[12px]">Provably Fair</span>
              </div>
            </div>

            <div class="flex items-center">
              <div class="mt-[4px] -translate-y-[3px]">
                <span class="text-[#5e6269] tracking-[0.005em] text-[11px]">Powered by</span>
              </div>
              <div class="ms-[4px]">
                <span class="w-[34px] h-[14px] text-[#858788] font-semibold underline text-[14px]">VIMAAN</span>
                <!-- <img src="/assets/logo.eba496b407593c0e.svg" alt="" class="w-[34px] h-[14]"> -->
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
    <!-- desktop -->
    <div *ngIf="!isMobile"
      class="w-full lg:w-[310px] allbets  min-[1280px]:w-[400px]  lg:h-[calc(100vh-7px)] lg:ms-[10px]  bg-[#1b1c1d] lg:mt-[10px] mt-[20px]  lg:pr-[0px] rounded-[10px] order-1">
      <div class="flex flex-col justify-between h-full ">
        <div>
          <div class="mb-[5px] mt-[5px]">
            <div class="bg-[#141516] w-[200px] mx-auto h-[24px] flex items-center rounded-[10px] relative ">
              <div class="flex items-center">
                <!-- Use Angular template reference variable #bggray -->
                <div #bggray class="w-[100px] h-[22px] rounded-[10px] absolute all-bet"
                  [style.transform]="bggrayTransform"></div>
                <div>
                  <button (click)="selectTab('allBets')"
                    [ngClass]="{'text-[#ffffff]': selectedTab === 'allBets', 'text-[#9ea0a3]': selectedTab !== 'allBets'}"
                    class="w-[100px] h-[18px] text-[12px] relative font-extralight tracking-[0.011em] -translate-y-0.5 lg:hover:text-[#d0021b]">
                    All Bets
                  </button>
                </div>
                <div>
                  <button (click)="selectTab('myBets')"
                    [ngClass]="{'text-[#ffffff]': selectedTab === 'myBets', 'text-[#9ea0a3]': selectedTab !== 'myBets'}"
                    class="w-[100px] h-[18px] font-light -translate-y-0.5 text-[12px] tracking-[0.011em] relative lg:hover:text-[#d0021b]">
                    My Bets
                  </button>
                </div>
                <!-- <div>
                                    <button (click)="selectTab('top')"
                                        [ngClass]="{'text-[#ffffff]': selectedTab === 'top', 'text-[#9ea0a3]': selectedTab !== 'top'}"
                                        class="w-[100px] h-[18px] text-[12px] -translate-y-0.5 font-light tracking-[0.011em] relative lg:hover:text-[#d0021b]">
                                        Top
                                    </button>
                                </div> -->
              </div>


            </div>
          </div>
          @if (selectedTab === 'allBets') {
          <div class="flex items-center justify-between pb-[4px] px-2.5  -translate-y-[1.5px]">
            <div class="">
              <div class="leading-[16.8px] translate-y-[0.5px]">
                <span class="text-[#ffffff] text-[14px] tracking-[0.02em] font-light  leading-[16.8px]">ALL
                  BETS</span>
              </div>
              <div class="leading-[16.8px]">
                <span
                  class="text-[#ffffff] font-extralight text-[14px]">{{this.AllBets?.length?this.AllBets?.length:'0'}}</span>
              </div>
            </div>
            <div class="">
              <div class="leading-[16.8px] translate-y-[0.5px]">
                <span class="text-[#ffffff] text-[14px] tracking-[0.02em] font-light  leading-[16.8px]">Users</span>
              </div>
              <div class="leading-[16.8px] text-end">
                <span class="text-[#ffffff] font-extralight text-[14px]">{{userCount}}</span>
              </div>
            </div>

            <!-- <div (click)="togglePreviousHand()"
                            [ngClass]="[previousHandState ? 'border-solid  border-[#e90000] bg-[#600]' : 'border-[#414148] bg-[#252528] [&_img]:hover:[filter:_brightness(0)_saturate(100%)_invert(15%)_sepia(84%)_saturate(6744%)_hue-rotate(341deg)_brightness(89%)_contrast(103%)]']"
                            class="gap-[5px] border max-small:translate-y-[1.5px] cursor-pointer translate-y-[1.5px]    w-[115.32px]  md:translate-y-[1px] rounded-[17px]  h-[20px] flex justify-between items-center pe-[8px] ps-[3px] lg:mb-0 mb-[1px]">
                            <div> @if( previousHandState){
                                <img src="/assets/icons/close.9967d3df9ff555ef.svg" alt=""
                                    class="w-3 h-3 translate-x-[5px]">
                                } @else {
                                <img src="/assets/icons/history.a8377d083674a681.svg" alt="" class="w-[17px] h-[16px] ">
                                }
                            </div>
                            <div class="mb-[0px] -translate-y-[2.5px] ">
                                <span class="text-[12px] text-[#9ea0a3] tracking-[0.005em]  font-light ">Previous
                                    hand</span>
                            </div>
                        </div> -->

          </div>
          <div class="h-[2px] bg-[#141516]"></div>
          }
          @if (selectedTab === 'allBets' || selectedTab === 'myBets') {
          <div class="flex mx-[10px] h-[20px] items-center font-light">
            <div class="w-[19%] -translate-y-[2px]">
              <span class="text-[11px]  text-[#7B7B7B]">User</span>
            </div>
            <div
              class="flex gap-[10px] lg:w-[36.8%] w-[36%] justify-end translate-x-[0.5px]  max-xxm:translate-x-1 xm:translate-x-[3.5px] s390:translate-x-[3.5px] xl:translate-x-0">
              <span class="text-[11px] text-[#7B7B7B] "> Bet</span>
              <span class="text-[11px] text-[#7B7B7B]">X</span>
            </div>
            <div class="flex-1 text-end -translate-y-0.5">
              <span class="text-[11px] text-[#7B7B7B]"> Cash out </span>
            </div>
          </div>
          }

          <ul
            [ngClass]="{'lg:max-h-[79svh]  max-h-[394px] ' : selectedTab ==='allBets','lg:max-h-[84.3svh]  max-h-[394px] ': selectedTab==='myBets' }"
            class="flex px-1 lg:px-0 lg:pl-1 overflow-auto flex-col w-full">
            @if(selectedTab === 'allBets'){
            @for (item of first50bets; track $index) {
            <!-- active bets starts here -->
            <li [ngClass]="[item.nation=='CASHOUT' ? 'bet_item_celebrated':'']"
              class="grid grid-cols-5 w-full bg-[#101112] min-h-[34px] justify-center items-center mt-0.5 border border-solid border-[#101112] rounded-lg text-[#bbbfc5] pl-[2.5px] ">
              <div class=" col-span-2 flex gap-2  items-center   ">
                <div class="w-[30px] h-[30px] rounded-[50%]">
                  <img [src]="'/assets/avatar-images/av-'+item?.imageNumber+'.png'" [alt]="item.userName">
                </div>
                <div>
                  <span class="text-[13px] text-[#9ea0a3] font-light">{{item.userName}}</span>
                </div>
              </div>
              <div class="text-[14px] text-[#bbbfc5] col-span-2 -translate-x-1.5 lg:translate-x-0 ">
                {{item.stake}}
                <span [ngStyle]="{'color': item.oddsRate}" *ngIf="item.nation=='CASHOUT'"
                  class=" cursor-pointer font-semibold   text-[12px] py-0.5 px-1.5  bg-[#00000080] border-0 rounded-[11px] box-border">
                  {{item.oddsRate}}x
                </span>
              </div>
              <div *ngIf="item.nation=='CASHOUT'"
                class="text-[14px] text-white font-light text-end mr-2  col-span-1 lg:-translate-x-1.5 ">
                {{item.cashOut | number:'1.2-2'}}
              </div>
            </li>
            }
            } @else if (selectedTab === 'myBets') {
            <!-- My bets starts here -->
            @for (item of mybets; track $index) {
            <li [ngClass]="[item.nation=='CASHOUT' ? 'bet_item_celebrated':'!text-[#bbbfc5] ']"
              class="grid grid-cols-5 w-full bg-[#101112] font-['Inter'] min-h-[34px] justify-center items-center mt-0.5 border border-solid border-[#101112] rounded-lg  px-2">
              <div
                class=" col-span-2 !text-[#bbbfc5] flex flex-col  items-start pl-0.5  text-[12px] font-light   leading-none">
                <h3>
                  {{item.createdAt | date:'H:mm'}}
                </h3>
                <!-- <h3>
                                  {{item.stake}}
                                </h3> -->
              </div>
              <div class="text-[14px]  col-span-2 ">
                {{item.stake}}
                <span [ngStyle]="{'color': item.cashOutAtMultiplier}"
                  class=" cursor-pointer font-semibold   text-[12px] py-0.5 px-1.5  bg-[#00000080] border-0 rounded-[11px] box-border">
                  {{item.cashOutAtMultiplier}}x
                </span>
              </div>
              <div class="text-[14px]  col-span-1  flex flex-row justify-center items-center gap-2">
                <a class="w-[30%] font-light -translate-x-4" [ngClass]="[!item.cashout ? 'opacity-0' : '']">
                  {{item.cashout | number:'1.2-2'}}
                </a>
                <div class="flex justify-center items-center gap-1 w-[70%]">
                  <a class="cursor-pointer">
                    <img (click)="openProvablyFairDetailsModal()" class="w-3.5 h-4 "
                      src="/assets/icons/icon-provabyfair.71eb97eaadfab595.svg" alt="provabyfair">
                  </a>
                  <a class="cursor-pointer"> <img class="w-4 h-3.5 " src="/assets/icons/share.658297c40a9fcd66.svg"
                      alt="copy"></a>
                </div>

              </div>
            </li>
            }

            }

          </ul>
        </div>


        <!-- footer -->
        <div class="bg-[#000] border border-[#2a2b2e] flex justify-between items-center px-[10px] h-[25px]">
          <div class="flex items-center">
            <div class="-translate-y-0.5">
              <span class="text-[#5e6269] font-light text-[11px]">This game is </span>
            </div>
            <div class="ms-[6px] me-[4px]">
              <img src="/assets/icon-provabyfair.652dcfd9d89241e2.svg" alt="" class="w-[14px] h-[16]">
            </div>
            <div class="lg:mb-[2px] mb-[0px] -translate-y-0.5 lg:-translate-y-[0.5px]">
              <span class="text-[#bbbfc5] tracking-[0.015em] font-light text-[12px]">Provably Fair</span>
            </div>
          </div>

          <div class="flex items-center">
            <div class="mt-[4px] -translate-y-[3px]">
              <span class="text-[#5e6269] tracking-[0.005em] text-[11px]">Powered by</span>
            </div>
            <div class="ms-[4px]">
              <span class="w-[34px] h-[14px] text-[#858788] font-semibold underline text-[14px]">VIMAAN</span>
              <!-- <img src="/assets/logo.eba496b407593c0e.svg" alt="" class="w-[34px] h-[14]"> -->
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

</section>

<app-toaster-container></app-toaster-container>
